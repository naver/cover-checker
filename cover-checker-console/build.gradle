
buildscript {
    repositories {
        mavenCentral()
    }
}

apply plugin: 'application'

mainClassName = 'com.naver.nid.cover.Launcher'

task fatJar(type: Jar) {
    manifest {
        attributes 'Main-Class': 'com.naver.nid.cover.Launcher'
        attributes 'Description': 'Check your test coverage for new appeded codes'
    }
    baseName = 'cover-checker'
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}

build {
    dependsOn fatJar
}

dependencies {
    compile project(':cover-checker-cobertura')
    compile project(':cover-checker-github')
    compile project(':cover-checker-core')
    compile project(':cover-checker-jacoco')

    compile 'commons-cli:commons-cli:1.4'
}